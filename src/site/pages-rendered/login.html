<!DOCTYPE html> 
<html lang="en-GB">
<head>
    <meta charset="utf-8">
	<title>Login to iBaguette Study</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Login to iBaguette Study Beta.">
	<meta name="robots" content="index, follow" />
	<meta property="og:title" content="Login to iBaguette Study" />
	<meta property="og:description" content="Login to iBaguette Study Beta." />
	<meta property="og:url" content="https://study.ibaguette.com/login" />
	<meta property="og:type" content="website" />
	<meta property="og:locale" content="en_GB" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:title" content="Login to iBaguette Study" />
	<meta name="twitter:description" content="Login to iBaguette Study Beta." />
	<meta name="twitter:site" content="@draggie306" />
    <link rel="stylesheet" href="css/ensure_mobile.css">
    <script src="https://accounts.google.com/gsi/client" async></script>
    <link rel="stylesheet" href="css/pace.css">
</head>

<body id="container_id_for_jiggle">
	<div style="font-family:sans-serif;height:100vh;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center; background-size: cover;">
		<div>

		<link rel="stylesheet" href="css/buttons_prettification.css">

		<h1 class="" style="display:inline-block;margin:0;font-size:48px;font-weight:500;vertical-align:top">iBaguette Study Beta</h1>
		<br>
        <h2 style="font-weight:normal;margin:10">
            You must be logged in to access the content.
        </h2>
		<br><br><br>
		<form id="login-form" class="noHoverGreyedLoginButton" action="https://auth.ibaguette.com/" method="post">
			<input type="email" name="email" placeholder="Email address" required>
			<input type="password" name="password" placeholder="Password" required>
			<button id="submit_button" type="submit">Log in</button>
		</form>
        <br>
        <div class="external-logins">
            <div id="g_id_onload"
                 data-client_id="764536489744-vmj5kubiop5ovlsgrgehvcvur62d7680.apps.googleusercontent.com"
                 data-context="signin"
                 data-ux_mode="popup"
                 data-callback="handleCredentialResponse"
                 data-nonce=""
                 data-itp_support="true">
            </div>
            
            <div class="g_id_signin"
                 data-type="standard"
                 data-shape="pill"
                 data-theme="outline"
                 data-text="signin_with"
                 data-size="large"
                 data-logo_alignment="center">
            </div>
        <br>
        </div>
            
        <p><em>NOTE:</em> Signed up to DraggieGames.com or iBaguette Accounts? You can use the same account here!
        </p>
        <br>
		<div id = "forgotten_pass">
			<h3 id="forgotten_pass_link">
				<a href="/reset">Forgotten password?</a>
			</h3>
		</div>
		<div id = "register_link_div">
			<h3 id="register_link">
				<a href="/register">New here? Register an account</a>
			</h3>
		</div>
        <div id = "redeem_link_div">
			<h3 id="redeem_link">
				<a href="/redeem">Redeem a beta access code</a>
			</h3>
		</div>
            
		<script>
			// change the refister link to include the return url
			if (window.location.href.includes("return_url")) {
				const return_url = window.location.href.split("?return_url=")[1];
				document.getElementById("register_link").innerHTML = "<a href='/register?return_url=" + return_url + "'>Register an account</a>";
			}

		</script>
		
		<script src = "js/authenticator.js"></script>
        <script src = "js/auto_token_login.js"></script>
        <script>
             document.getElementById("login-form").addEventListener("submit", function() {
                document.getElementById("submit_button").disabled = true;
                document.getElementById("submit_button").innerHTML = "Working...";
                document.getElementById("submit_button").classList.add("noHover");
            });
        </script>
	</div>

</body>
</html>
